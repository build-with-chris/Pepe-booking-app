

post:
  summary: Upload invoice metadata
  description: Links a Supabase Storage invoice file to the current artist. Requires authentication.
  tags:
    - invoices
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            storage_path:
              type: string
              example: user/123/invoice-2025-08.pdf
            amount_cents:
              type: integer
              example: 25000
            currency:
              type: string
              example: EUR
            invoice_date:
              type: string
              format: date
              example: 2025-08-16
            notes:
              type: string
              example: Rechnung f√ºr August 2025
          required:
            - storage_path
  responses:
    '200':
      description: Invoice successfully linked
    '400':
      description: Invalid payload
    '401':
      description: Unauthorized